

<div ng-repeat="story in vm.stories">
    <!--
    <div class="userstory" ng-if="story.status != 'discarded'">
        <div class="userstory_key">{{story.name}}</div>
        
        <label>Status:</label>
        <select ng-model="story.status" ng-change="vm.onChange_updateStory(story)">
            <option ng-repeat="option in vm.storyStates" value="{{option}}">{{option}}</option>
        </select>
        
        <!-- bootstrap dropdown
        <div class="btn-group">
            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Action <span class="caret"></span>
            </button>
            <ul class="dropdown-menu">
                <li ng-repeat="option in vm.storyStates"><a href="#">{{option}}</a></li>
            </ul>
        </div>
        ->
        <textarea rows="4" cols="50"ng-model="story.body"></textarea>
        <br>
        <button type="button" class="btn btn-default" ng-click="vm.onChange_updateStory(story);">Save</button><br>

    </div>
    -->
    <div class="notecard" ng-if="story.status != 'discarded'">
        <div class="userstory_key">
        <input class="userstory_name" type="text" ng-change="vm.onChange_updateStory(story);" ng-model="story.name">
        <span style="position:absolute;right:0;top:0;margin:4px" class="badge">5</span>
        <!--<p class="pointsText display notecardElement">-</p>-->
        </div>
        <!--drop down provided by W3 schools-->
        <div class="notecardContent">
            <textarea ng-change="vm.onChange_updateStory(story);" ng-model="story.body"></textarea>
        </div>
        <select ng-model="story.status" ng-change="vm.onChange_updateStory(story)">
            <option ng-repeat="option in vm.storyStates" value="{{option}}">{{option}}</option>
        </select>
        <!-- everything updates live <button class="save" type="button" class="btn btn-default" ng-click="vm.onChange_updateStory(story);">Save</button> -->
    </div>
</div>
<div class="notecard">
    <script>
        function clearNewStory() {
            $(".create_userstory_key").val('')
            $(".create_userstory_body").val('')
            $(".create_userstory_status")
        }
    </script>
    <div class="userstory_key">
        <input type="text" ng-model="vm.newStory.name" placeholder="new user story name"></input>
    </div>
    <div class="notecardContent">
        <textarea ng-model="vm.newStory.body"></textarea>
    </div>
    <select ng-model="vm.newStory.status">
        <option ng-repeat="option in vm.storyStates" value="{{option}}">{{option}}</option>
    </select>
    <button class="save" type="button" class="btn btn-default" ng-click="vm.onClick_CreateStory();clearNewStory();">Save</button>
</div>