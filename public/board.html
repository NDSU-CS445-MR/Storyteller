<!-- new user story model, hidden by default -->
<div id="new_story_screen" class="modal">
    <div id="new_story" class="notecard notecard-new modal">
        <div class="userstory_key create_userstory_key">
            <input type="text" ng-model="vm.newStoryTemplate.name" placeholder="new user story name"></input>
        </div>
        <div class="story_body">
            <textarea id="newStoryBody" ng-model="vm.newStoryTemplate.body" ng-change="vm.newStoryTemplate.changed();"></textarea>
        </div>
        <div class="notecard-bottom-margin">
            <button class="save btn btn-default" type="button" ng-click="vm.commitNewStory();">Save new story</button>
            <button class="cancel btn btn-default" type= "button" ng-click="vm.cancelNewStoryCard();">Cancel</button>
        </div>
    </div>
    <div id="new_story_cancel_margin" style="z-index:-1;width:100%;height:100%" ng-click="vm.cancelNewStoryCard();"></div>
</div>
</div>
<!-- user story board -->
<div class="grid-host">
<div data-ng-repeat="acceptance in vm.storyStatesDisplay" name="{{acceptance}}" class="{{acceptance}} drop-zone">
    <div class="drop-zone-header"><h1>{{acceptance}}</h1></div>
    <div class="drop-grid">
        <div ng-repeat="story in vm.stories | filter: { status: acceptance } track by $index">
            <div id="{{story.$id}}"class="notecard drag">
                <div class="userstory_key">
                    <input class="userstory_name" type="text" ng-change="vm.storyTitleChanged(story);" ng-model="story.name">
                </div>
                <div class="story_body">
                    <textarea class="story_body_textarea" ng-change="vm.storyBodyChanged(story);" ng-model="story.body"></textarea>
                </div>
                <div class="notecard-bottom-margin">
                    <div class="badge flag flag-duplicate" ng-if="story.analysisLog.duplicates != null">
                        possible duplicate
                    </div>
                    <div class="badge flag flag-jargon" ng-if="story.analysisLog.jargon != null">
                        possible jargon
                    </div>
                    <button class="debug-order" ng-click="vm.sendLeft(story)">left</button><button class="debug-order" ng-click="vm.sendRight(story)">right</button>
                </div>
            </div>
        </div>
    </div>
</div>
</div>